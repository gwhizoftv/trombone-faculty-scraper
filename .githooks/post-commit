#!/bin/bash
# .githooks/post-commit
# Reminds agent to push their feature/fix branch after a commit.

# Variables passed from the setup script
SHARED_BRANCH="main"
AGENT_NUM="1"

# Variables evaluated when this hook runs
CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)

# If not on the shared branch, provide a reminder to push the feature/fix branch
if [[ "$CURRENT_BRANCH" != "$SHARED_BRANCH" ]]; then
  echo
  echo "ðŸ”” Claude $AGENT_NUM: You just committed to '$CURRENT_BRANCH'."
  echo "   If you havenâ€™t already, push your feature/fix branch now:"
  echo "   â†’ git push -u origin $CURRENT_BRANCH"
  echo
fi

exit 0
